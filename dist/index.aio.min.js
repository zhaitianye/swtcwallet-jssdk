!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(n.swtcwallet={})}(this,function(n){"use strict";function e(n,e,t,r){return new(t||(t=Promise))(function(i,c){function o(n){try{a(r.next(n))}catch(n){c(n)}}function u(n){try{a(r.throw(n))}catch(n){c(n)}}function a(n){n.done?i(n.value):new t(function(e){e(n.value)}).then(o,u)}a((r=r.apply(n,e||[])).next())})}function t(n,e){function t(n){return function(e){return r([n,e])}}function r(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,c&&(o=2&t[0]?c.return:t[0]?c.throw||((o=c.return)&&o.call(c),0):c.next)&&!(o=o.call(c,t[1])).done)return o;switch(c=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,c=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=e.call(n,a)}catch(n){t=[6,n],c=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}var i,c,o,u,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u}function r(n){if(H&&(window.WebViewJavascriptBridge?n(window.WebViewJavascriptBridge):document.addEventListener("WebViewJavascriptBridgeReady",function(){n(window.WebViewJavascriptBridge)},!1),sessionStorage.phoneType="android"),W){if(window.WebViewJavascriptBridge)return n(window.WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(n);window.WVJBCallbacks=[n];var e=document.createElement("iframe");e.style.display="none",e.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(e),setTimeout(function(){document.documentElement.removeChild(e)},0),sessionStorage.phoneType="ios"}}function i(){B.registerHandler("dataToJs",function(n,e){alert("app主动调用js方法，传入数据:"+n),e(n)})}function c(){return e(this,void 0,void 0,function(){return t(this,function(n){return[2,!!(window.WebViewJavascriptBridge||window.webkit&&window.webkit.messageHandlers)]})})}function o(){return e(this,void 0,void 0,function(){return t(this,function(n){switch(n.label){case 0:return[4,new Promise(function(n){B.callHandler("getAppInfo","",function(e){n(e)})})];case 1:return[2,n.sent()]}})})}function u(n){return e(this,void 0,void 0,function(){return t(this,function(e){switch(e.label){case 0:return[4,new Promise(function(e){B.callHandler("toast",n,function(n){e(n)})})];case 1:return[2,e.sent()]}})})}function a(){return e(this,void 0,void 0,function(){return t(this,function(n){switch(n.label){case 0:return[4,new Promise(function(n){B.callHandler("invokeQRScanner","",function(e){n(e)})})];case 1:return[2,n.sent()]}})})}function s(){return e(this,void 0,void 0,function(){return t(this,function(n){switch(n.label){case 0:return[4,new Promise(function(n){B.callHandler("back","",function(e){n(e)})})];case 1:return[2,n.sent()]}})})}function l(){return e(this,void 0,void 0,function(){return t(this,function(n){switch(n.label){case 0:return[4,new Promise(function(n){B.callHandler("refresh","",function(e){n(e)})})];case 1:return[2,n.sent()]}})})}function f(){return e(this,void 0,void 0,function(){return t(this,function(n){switch(n.label){case 0:return[4,new Promise(function(n){B.callHandler("close","",function(e){n(e)})})];case 1:return[2,n.sent()]}})})}function d(){return e(this,void 0,void 0,function(){return t(this,function(n){switch(n.label){case 0:return[4,new Promise(function(n){B.callHandler("getWalletList","",function(e){n(e)})})];case 1:return[2,n.sent()]}})})}function h(){return e(this,void 0,void 0,function(){return t(this,function(n){switch(n.label){case 0:return[4,new Promise(function(n){B.callHandler("createWallet","",function(e){n(e)})})];case 1:return[2,n.sent()]}})})}function w(){return e(this,void 0,void 0,function(){return t(this,function(n){switch(n.label){case 0:return[4,new Promise(function(n){B.callHandler("getCurrentWallet","",function(e){n(e)})})];case 1:return[2,n.sent()]}})})}function v(){return e(this,void 0,void 0,function(){return t(this,function(n){switch(n.label){case 0:return[4,new Promise(function(n){B.callHandler("switchWallet","",function(e){n(e)})})];case 1:return[2,n.sent()]}})})}function b(n){var r=n.account;return e(this,void 0,void 0,function(){return t(this,function(n){switch(n.label){case 0:return[4,new Promise(function(n){B.callHandler("getAccountBalances",{account:r},function(e){n(e)})})];case 1:return[2,n.sent()]}})})}function p(n){var r=n.account,i=n.currency,c=n.issuer;return e(this,void 0,void 0,function(){return t(this,function(n){switch(n.label){case 0:return[4,new Promise(function(n){B.callHandler("getCurrencyBalances",{account:r,currency:i,issuer:c},function(e){n(e)})})];case 1:return[2,n.sent()]}})})}function m(n){var r=n.account;return e(this,void 0,void 0,function(){return t(this,function(n){switch(n.label){case 0:return[4,new Promise(function(n){B.callHandler("getAccountInfo",{account:r},function(e){n(e)})})];case 1:return[2,n.sent()]}})})}function g(n){var r=n.from,i=n.to,c=n.value,o=n.currency,u=n.issuer,a=n.secret,s=n.addMemo,l=n.sequence;return e(this,void 0,void 0,function(){return t(this,function(n){switch(n.label){case 0:return[4,new Promise(function(n){B.callHandler("sign",{from:r,to:i,value:c,currency:o,issuer:u,secret:a,addMemo:s,sequence:l},function(e){n(e)})})];case 1:return[2,n.sent()]}})})}function y(n){var r=n.from,i=n.to,c=n.data,o=n.gasPrice,u=n.value,a=n.currency,s=n.issuer,l=n.memo,f=n.action;return e(this,void 0,void 0,function(){return t(this,function(n){switch(n.label){case 0:return[4,new Promise(function(n){B.callHandler("sendTransaction",{from:r,to:i,data:c,gasPrice:o,value:u,currency:a,issuer:s,memo:l,action:f},function(e){n(e)})})];case 1:return[2,n.sent()]}})})}function P(){return e(this,void 0,void 0,function(){return t(this,function(n){switch(n.label){case 0:return[4,new Promise(function(n){B.callHandler("selectNode","",function(e){n(e)})})];case 1:return[2,n.sent()]}})})}var H=navigator.userAgent.indexOf("Android")>-1||navigator.userAgent.indexOf("Adr")>-1,W=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);r(function(n){H&&n.init(function(n,e){e({"Javascript Responds":"init success !"})})});var B={callHandler:function(n,e,t){r(function(r){r.callHandler(n,e,t)})},registerHandler:function(n,e){r(function(t){t.registerHandler(n,function(n,t){e(n,t)})})}};n.getAPPDate=i,n.isConnected=c,n.getAppInfo=o,n.handleAndroidToast=u,n.invokeQRScanner=a,n.back=s,n.refresh=l,n.close=f,n.getWalletList=d,n.createWallet=h,n.getCurrentWallet=w,n.switchWallet=v,n.getAccountBalances=b,n.getCurrencyBalances=p,n.getAccountInfo=m,n.sign=g,n.sendTransaction=y,n.selectNode=P,Object.defineProperty(n,"__esModule",{value:!0})});
